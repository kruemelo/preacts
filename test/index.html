<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="importmap">
      {
        "imports": {
          "preacts": "../dist/preacts.js"
        }
      }
    </script>    
  </head>
  <script type="module">
    import { html, render, signal, renderToString } from "preacts";
    import { Greeting } from "./Greeting.js";
  
    const count = signal(0);

    function App() {
      return html`
        <div>
          <${Greeting} count=${count.value} />
          <button onClick=${() => (count.value += 1)}>
            Increment with signal
          </button>
          <p>Counter: ${count}</p>
          <p>Greeting rendered to string: 
          <pre>${renderToString(html`<${Greeting} count=${count.value} />`)}</pre>
          </p>
        </div>
      `;
    }

    render(html`<${App} />`, document.body);
  </script>
</html>
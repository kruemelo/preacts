<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="importmap">
      {
        "imports": {
          "preacts": "../dist/preacts.js"
        }
      }
    </script>    
  </head>
  <script type="module">
    import {
      html,
      render,
      signal,
      useRef,
      useEffect,
    } from "preacts";
    import { Greeting } from "./Greeting.js";
  
    const count = signal(0);

    function App() {
      const myRef = useRef(null);

      useEffect(() => {
        console.log("useEffect", myRef.current);
      }, []);

      return html`
        <div ref=${myRef}>
          <${Greeting} name="again" />
          <button onClick=${() => (count.value += 1)}>
            Increment with signal
          </button>
          <p>Counter: ${count}</p>
        </div>
      `;
    }

    render(html`<${App} />`, document.body);
  </script>
</html>